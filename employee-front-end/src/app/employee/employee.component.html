<div class="container">
  <div *ngIf="successMessage">
    <br>
    <div>Employee added succesfully.</div>
  </div>
  <div class="row">
    <div class="col-md-3 offset-md-2">
      <br>
      <button type="button" name="button" [disabled]='toggleForm' class="btn btn-primary" (click)='toggleAddEmployee()'>Add Employees</button>
    </div>
    <div class="col-md-3 offset-md-2">
      <br>
      <button type="button" name="button" [disabled]='toggleForm' class="btn btn-primary" (click)='showEmployees()'>Show Employees</button>
    </div>
  </div>

  <form #employeeForm="ngForm" (ngSubmit)="addEmployee(employeeForm)" *ngIf=addEmployeeForm ngNativeValidateÃŸ>
    <div class="form-group">
      <br>
      <label for="employeeName">Name</label>
      <input id="employeeName" name="name" class="form-control" minlength="3" type="text" ngModel required  #n="ngModel">
      <div *ngIf="n.errors && n.touched" [ngStyle]="{'color':'red'}">
          <div *ngIf="n.errors.required">
            Please Enter your Name.
          </div>
          <div *ngIf="n.errors.minlength">
            Minimum required length is 3.
          </div>
        </div>
    </div>
    <div class="form-group">
      <label for="employeeAge">Age</label>
      <input type="number" min="{{minNum}}" maxlength="2" max="{{maxNum}}" name="age" class="form-control" ngModel required #age="ngModel">
      <div *ngIf="age.errors && age.touched" [ngStyle]="{'color':'red'}">
        <div *ngIf="age.errors.required">
          Please Enter your Age.
        </div>
        <div *ngIf="age.errors.min">
          Minimum required age is {{minNum}}.
        </div>
        <div *ngIf="age.errors.max">
          Maximum allowed age is {{maxNum}}.
        </div>
        <div *ngIf="age.errors.maxlength">
          Employee age can't be greater than 99.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="currentAddress">Current Address</label>
      <input type="text" name="currentaddress" class="form-control" minlength="4" maxlength="200" id="currentAddress" ngModel required
        #add="ngModel">
      <div *ngIf="add.errors && add.touched" [ngStyle]="{'color':'red'}">
        <div *ngIf="add.errors.required">
          Please Enter your Address.
        </div>
        <div *ngIf="add.errors.minlength">
          Address should be atleast 4 character long.
        </div>
        <div *ngIf="add.errors.maxlength">
          Address should not exceed 200 character.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="permanentAddress">Permanent Address</label>
      <input type="text" name="permanentaddress" minlength="4" maxlength="200" class="form-control" id="permanentAddress" ngModel
        required #add2="ngModel">
      <div *ngIf="add2.errors && add2.touched" [ngStyle]="{'color':'red'}">
        <div *ngIf="add2.errors.required">
          Please Enter your Address.
        </div>
        <div *ngIf="add2.errors.minlength">
          Address should be atleast 4 character long.
        </div>
        <div *ngIf="add2.errors.maxlength">
          Address should not exceed 200 character.
        </div>
      </div>
    </div>
    <div class="form-group">
      <button type="submit" name="button" [disabled]=!employeeForm.valid class="btn btn-primary col-md- 3 offset-md-5">Submit</button>
    </div>
  </form>



  <div *ngIf=showEmployee>
    <br>
    <h2>Employee List</h2>
    <div *ngIf="employees">
      <table class="table table-striped ">
        <tr>
          <th>
            Employee Name
          </th>
          <th>
            Age
          </th>
          <th>
            Employee Current Address
          </th>
          <th>
            Employee Permanent Address
          </th>
        </tr>

        <tr *ngFor="let employee of employees">
          <td>
            {{employee.name}}
          </td>
          <td>
            {{employee.age}}
          </td>
          <td>
            {{employee.addresses.currentaddress}}
          </td>
          <td>
            {{employee.addresses.permanentaddress}}
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>